ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- sum(data$sulfate)
y <- sum(nitrate)
cor(x,y, use = "complete.obs")
}
}
}
c <- corr("specdata",100)
corr <- function(directory,threshold,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty data frame
data <- data.frame()
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- sum(data$sulfate)
y <- sum(data$nitrate)
cor(x,y, use = "complete.obs")
}
}
}
c<- corr("specdata",100)
c<- corr("specdata",150)
corr <- function(directory,threshold,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty data frame
data <- data.frame()
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- sum(data$sulfate)
y <- sum(data$nitrate)
cor(x,y, use = "complete.obs")
}
else {
}
corr <- function(directory,threshold,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty data frame
data <- data.frame()
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- sum(data$sulfate)
y <- sum(data$nitrate)
cor(x,y, use = "complete.obs")
}
else {
}
}
}
corr <- function(directory,threshold,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty data frame
data <- data.frame()
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- sum(data$sulfate)
y <- sum(data$nitrate)
cor(x,y, use = "complete.obs")
}
else {
}
}
}
c<- corr("specdata",100)
?return
corr <- function(directory,threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty data frame
data <- data.frame()
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- data$sulfate
y <- data$nitrate
cor(x,y, use = "complete.obs")
}
else {
}
}
}
c<- corr("specdata",100)
head(c)
summary(c)
data <- read.csv(flist[1])
setwd("c:/coursera/specdata")
data <- read.csv("/.001.csv")
getwd
getwd()
data <- read.csv("001.csv")
data
x <- data$sulfate
y <- data$nitrate
x
cor(x,y, use = "complete.obs")
ok <- complete.cases(data)
ok
sum(ok)
corr <- function(threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
data <- read.csv("flist[i]"specdata/001.csv"")
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- data$sulfate
y <- data$nitrate
#cor(x,y, use = "complete.obs")
}
else {
}
}
}
corr <- function(threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
data <- read.csv(specdata/001.csv)
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- data$sulfate
y <- data$nitrate
#cor(x,y, use = "complete.obs")
}
else {
}
}
corr <- function(threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
data <- read.csv("specdata/001.csv")
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- data$sulfate
y <- data$nitrate
#cor(x,y, use = "complete.obs")
}
else {
}
}
cr <- corr(100)
cr
corr <- function(threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
data <- read.csv("specdata/001.csv")
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- data$sulfate
y <- data$nitrate
cor(x,y, use = "complete.obs")
}
else {
}
}
cr <- corr(100)
cr
summary(cr)
head(cr)
corr <- function(directory,threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty data frame
data <- data.frame()
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- data$sulfate
y <- data$nitrate
z<- c(z,cor(x,y, use = "complete.obs"))
}
else {
}
}
}
corr <- function(threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
data <- read.csv("specdata/001.csv")
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- data$sulfate
y <- data$nitrate
z<- c(z,cor(x,y, use = "complete.obs"))
}
else {
}
}
corr(100)
corr <- function(threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
z <- numeric()
data <- read.csv("specdata/001.csv")
ok <- complete.cases(data)
if(sum(ok)> threshold) {
x <- data$sulfate
y <- data$nitrate
z <- c(z,cor(x,y, use = "complete.obs"))
}
else {
}
}
corr(100)
z
corr <- function(directory,threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty data frame
data <- data.frame()
## Creates an empty numeric vector
x <- numeric()
y <- numeric()
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
vect <- c(vect,cor(data[[sulfate]],data[[nitrate]], use = "complete.obs"))
}
else {
}
}
return(vector())
}
cr <- corr("specdata",100)
corr <- function(directory,threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty data frame
data <- data.frame()
## Creates an empty numeric vector
vect <- NULL
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
vect <- c(vect,cor(data[[sulfate]],data[[nitrate]], use = "complete.obs"))
}
else {
}
}
return(vector())
}
cr <- corr("specdata",150)
corr <- function(directory,threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty data frame
data <- data.frame()
## Creates an empty numeric vector
vect <- NULL
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
vect <- c(vect,cor(data[["sulfate"]],data[["nitrate"]], use = "complete.obs"))
}
else {
}
}
return(vector())
}
cr <- corr("specdata",100)
head(cr,6)
cr
corr <- function(directory,threshold=0,id=1:332) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty data frame
data <- data.frame()
## Creates an empty numeric vector
vect <- NULL
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
vect <- c(vect,cor(data[["sulfate"]],data[["nitrate"]], use = "complete.obs"))
}
else {
}
}
return(vect)
}
cr <- corr("specdata",100)
head(cr)
head(cr,8)
cr <- corr("specdata",1500)
head(cr)
summary(cr)
length(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
?cor
vect1<- NULL
class(vect1)
summary(vect1)
vect <- vector(mode = "numeric", length = 0)
summary(vect)
corr <- function(directory,threshold=0) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty numeric vector
vect <- vector(mode = "numeric", length = 0)
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in 1:length(flist)) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
ok <- complete.cases(data)
if(sum(ok)> threshold) {
vect <- c(vect,cor(data[["sulfate"]],data[["nitrate"]], use = "complete.obs"))
}
else {
}
}
return(vect)
}
cr <- corr("specdata",100)
head(cr)
cr <- corr("specdata")
head(cr)
length(flist)
summary(cr)
corr <- function(directory,threshold=0) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty numeric vector
vectcor <- vector(mode = "numeric", length = 0)
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
## Loops from the 1st to the last file
for (i in 1:length(flist)) {
## Reads the file
data <- read.csv(flist[i])
## Calculate the Correlation between "nitrate" and "sulfate"for completely observed cases,
## if the number of observations for a particular monitor is greater than the threshold passed as argument
## and appends the result to a vector while looping across the files
if(sum(complete.cases(data))> threshold) {
vectcor <- c(vectcor,cor(data[["sulfate"]],data[["nitrate"]], use = "complete.obs"))
}
}
## Returns the vector of calculated correlations
return(vect)
}
cr <- corr("specdata")
summary(cr)
corr <- function(directory,threshold=0) {
## Sets the work directory
setwd("c:/coursera")
## Creates an empty numeric vector
vectcor <- vector(mode = "numeric", length = 0)
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
## Loops from the 1st to the last file
for (i in 1:length(flist)) {
## Reads the file
data <- read.csv(flist[i])
## Calculate the Correlation between "nitrate" and "sulfate"for completely observed cases,
## if the number of observations for a particular monitor is greater than the threshold passed as argument
## and appends the result to a vector while looping across the files
if(sum(complete.cases(data))> threshold) {
vectcor <- c(vectcor,cor(data[["sulfate"]],data[["nitrate"]], use = "complete.obs"))
}
}
## Returns the vector of calculated correlations
return(vectcor)
}
cr <- corr("specdata")
summary(cr)
length(cr)
pollutantmean <- function(directory,polutant,id = 1:332) {
## Sets the work directory
setwd("c:/RAGNIMY1/datasciencecoursera")
## Creates an empty data frame
data <- data.frame()
## Creates a numeric vector
level_pm <- numeric()
## Creates a list of the files to be read
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the files containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
## Concatenates the vector level_pm with all the values of the pollutant data read in each file
level_pm <- c(level_pm,data[[polutant]])
}
## Calculates the mean of the pollutant data, ignoring the missing values identified as NA
mean(level_pm, na.rm=TRUE)
}
pollutantmean("specdata","nitrate",30:25)
corr <- function(directory,threshold=0) {
## Sets the work directory
setwd("c:/RAGNIMY1/datasciencecoursera")
## Creates an empty numeric vector
vectcor <- vector(mode = "numeric", length = 0)
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
## Loops from the 1st to the last file
for (i in 1:length(flist)) {
## Reads the file
data <- read.csv(flist[i])
## Calculate the Correlation between "nitrate" and "sulfate"for completely observed cases,
## if the number of observations for a particular monitor is greater than the threshold passed as argument
## and appends the result to a vector while looping across the files
if(sum(complete.cases(data))> threshold) {
vectcor <- c(vectcor,cor(data[["sulfate"]],data[["nitrate"]], use = "complete.obs"))
}
}
## Returns the vector of calculated correlations
return(vectcor)
}
corr("specdata",150)
sc<-corr("specdata",150)
complete <- function(directory,id = 1:332) {
## Sets the work directory
setwd("c:/RAGNIMY1/datasciencecoursera")
## Creates an empty data frame
data <- data.frame()
## Creates a numeric vector
nobs <- numeric()
## Creates a list of the files to be read from the directory passed as argument
flist <- list.files(path = directory, full.names=TRUE, pattern = ".csv")
for (i in id) {
## Reads the file containing the data (only the files containing data for the selected monitors)
data <- read.csv(flist[i])
## Retrieves the number of rows in the file, excluding incomplete rows
## and appends the number of rows to the numeric vector
nobs <- c(nobs,nrow(na.omit(data)))
}
## Displays the data frame returning two columns: 1st column contains the id of the monitor, 2nd column the
## number of complete measures
data.frame(id,nobs)
}
complete("specdata",80)
